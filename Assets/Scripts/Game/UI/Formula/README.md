# Unity公式编辑器

为了方便用户输入公式并执行得到其计算结果，我们仿照卡西欧计算器制作了一个从顶向下发散的表达式树输入器。它由根节点、方块、选择器和控制器组成。

## 工作原理

为了保存公式的输入结果，我们将所有用户输入的值作为一个节点，并将其赋予一个全局唯一的GUID，以便查询和替换。同时在节点中记录其子节点的GUID，这样，保存时仅需将所有节点保存起来，达到平面化保存的目的；在合成表达式时，我们利用GUID从根节点递归寻找子节点，将表达式树换成一个字符串，并使用`JavaScript`引擎`Jint`执行这个字符串，得到计算结果。

*Author: 荆煦添*